{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Timelapse Configuration Schema",
  "type": "object",
  "properties": {
    "ref": {
      "type": "string",
      "description": "Path to the reference image file"
    },
    "input_dir": {
      "type": "string",
      "description": "Path to the input directory"
    },
    "aligned_dir": {
      "type": "string",
      "description": "Path to the aligned output directory"
    },
    "movie": {
      "type": "string",
      "description": "Output movie file name"
    },
    "iterations": {
      "type": "integer",
      "minimum": 0,
      "maximum": 9999,
      "description": "Number of iterations for DemonsRegistrationFilter"
    },
    "stddev": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 10.0,
      "description": "Standard deviation for DemonsRegistrationFilter"
    },
    "workers": {
      "type": "integer",
      "minimum": 1,
      "description": "Number of parallel workers"
    },
    "fast": {
      "type": "boolean",
      "description": "Use fast DemonsRegistrationFilter"
    },
    "multiscale": {
      "type": "boolean",
      "description": "Use multiscale Demons"
    },
    "crf": {
      "type": "integer",
      "minimum": 1,
      "maximum": 50,
      "description": "CRF value for ffmpeg"
    },
    "fps": {
      "type": "integer",
      "minimum": 1,
      "maximum": 120,
      "description": "Frames per second for output video"
    },
    "caption": {
      "type": "boolean",
      "description": "Display filename as caption"
    },
    "caption_re_pattern": {
      "type": "string",
      "description": "Regex pattern for filename replacement"
    },
    "caption_re_replacement": {
      "type": "string",
      "description": "Replacement string for regex substitution"
    }
  },
  "required": [
    "ref",
    "input_dir",
    "aligned_dir",
    "iterations",
    "stddev",
    "crf",
    "fps"
  ],
  "additionalProperties": false
}